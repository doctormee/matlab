%% function
func = @(X, Y, A) Z = A .* X .* exp(-X .^ 2 - Y .^ 2);
%% doin stuff
left = -2;
right = 2;
range = left:0.1:right;
zMin = -4;
zMax = 4;
aMin = 1;
aMax = 10;
aStep = .1;
pTime = .1;
frameNumber = (aMax - aMin) ./ aStep;
anim(frameNumber) = struct('cdata', [], 'colormap', [1  1  0; 0  1  1]);
[X Y] = meshgrid(range, range);
for i = 1:frameNumber
    A = aMin + aStep .* i;
    Z = A .* X .* exp(-X .^ 2 - Y .^ 2);
    surf(X, Y, Z);
    axis([left right left right zMin zMax]);
    pause(pTime);
    anim(i) = getframe();
end
%% play animation
   clc 
   
   times = 3;                % amount of repeats
   frames_per_sec = 60;      % speed (fps)
   movie(F, times, frames_per_sec);
%% building projection for a certain level onto OXY 
    clc
    
    time = 4;
    height = 100;
    z = f(x, y, time);
    contour(z, [height height]);
%%  saving animation as a video file
    clc
    save('evolution.mat', 'F');
    vidObj = VideoWriter('evolution.avi');
    open(vidObj);
    writeVideo(vidObj,F);
    close(vidObj);
